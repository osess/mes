!function(a){a.fn.extend({validate:function(e){if(this.data("instance")){return}var d=this;var b=[];d.find(".validate").each(function(g,h){var f=a(h);b.push({name:f.attr("name"),rules:f.attr("data-rules"),display:f.attr("data-display")})});var c=new FormValidator(d.attr("name"),b,function(g,f){d.find(".error").removeClass("error");d.find(".help-block").html("");if(g.length>0){a.each(g,function(i,j){var h=d.find("*[name='"+j.id+"']").next(".help-block").html(j.message);h.closest(".control-group").removeClass("error").addClass("error")});return false}else{if(typeof e==="function"){e(d,f)}}});this.data("instance",c)}})}(window.jQuery);